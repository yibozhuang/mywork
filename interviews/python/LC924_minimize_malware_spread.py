import collections

def dfs(i, nodes, graph):
    nodes.add(i)
    for j in range(len(graph[i])):
        if graph[i][j] and j not in nodes:
            dfs(j, nodes, graph)

def minMalwareSpread(graph, initial):
    rank = collections.defaultdict(list)
    initial = set(initial)
    for node in sorted(initial):
        nodes = set()
        dfs(node, nodes, graph)

        if nodes & initial == {node}:
            rank[len(nodes)].append(node)

    if rank:
        return rank[max(rank)][0]
    else:
         return min(initial)

graph = [[1,1,0],[1,1,0],[0,0,1]]
initial = [0, 1]

print(minMalwareSpread(graph, initial))
